### CLI LIB
___

Для упрощения вызова команд сборки и тестирование добавлен набор готовых команд ввиде подключаемой библиотеки.

**Состав:**
- [cli-common](#cli-common)
- [cli-edt](#cli-edt)

## cli-common

Список общих команд для работы со строками, датами, файлами.
Для получения подробной информации используйте команду *help*, например:

```bash

> cli_str_uuid --help

cli_str_uuid(1)    Пользовательские команды    cli_str_uuid(1)
ИМЯ
    cli_str_uuid - Генерирует uuid

СИНТАКСИС
    cli_str_uuid [ПАРАМЕТРЫ] [АРГУМЕНТЫ] 

ОПИСАНИЕ
    Генерирует uuid

ОПЦИИ
    -h, --help          Показать эту справку
    

АРГУМЕНТЫ
    <НЕТ>

ПРИМЕРЫ
    $ cli_str_uuid --help
    
    $ cli_str_uuid
    d5b6c731-1310-4c24-9fe3-55d556d44374

```

|Имя команды                        |Описание                |
|-----------------------------------|------------------------|
|**cli_date_get_current**           |Возвращает текущую дату |
|**cli_str_uuid**                   |Генерирует uuid|
|**cli_str_trim_string**            |Удаляет из строки начальные и конечные пробелы|
|**cli_str_trim_all**               |Удаляет из строки все пробелы и сокращает количество пробелов|
|**cli_srt_regex**                  |Применение  регулярного выражение для переданной строки|
|**cli_str_split**                  |Разделяет строку по указанному разделителю|
|**cli_str_lower**                  |Строка в нижний регистр|
|**cli_str_upper**                  |Строка в верний регистр|
|**cli_str_reverse_case**           |Обратный регистр строк|
|**cli_str_trim_quotes**            |Удаляет из строки кавычки|
|**cli_str_strip_all**              |Удаляет из строки все вхождения шаблона|
|**cli_str_strip**                  |Удаляет из строки первое вхождение из шаблона|
|**cli_str_lstrip**                 |Возвращает строку с начала от слово шаблона исключения|
|**cli_str_rstrip**                 |Возвращает строку с конца от слово шаблона исключения|
|**cli_str_urlencode**              |Нормализация строки для url (процентное кодирование)|
|**cli_str_urldecode**              |Декодирование строки, закодированной в процентах|
|**cli_array_reverse**              |Возвращет массив в обратном порядке|
|**cli_array_remove_dups**          |Удалет повторяющиеся элементы в массиве|
|**cli_array_random_element**       |Возвращет случайный элемент массива|
|**cli_file_head**                  |Получает первые N строк файла|
|**cli_file_tail**                  |Получает последние N строк файла|
|**cli_file_lines**                 |Возвращает количество строк в файле|
|**cli_file_count**                 |Подсчитывает количество файлов или каталогов в указанном каталоге|
|**cli_file_extract**               |Возвращает строки файла извлеченные между двумя маркерами|
|**cli_file_get_functions_stript**  |Возвращает список функций из файла скрипта|
|**cli_path_dirname**               |Возвращает имя каталога, в котором указан путь к файлу|
|**cli_path_basename**              |Получиет базовое имя пути к файлу|
|**cli_term_get_size**              |Получает размер терминала в строках и столбцах (из скрипта)|
|**cli_term_get_window_size**       |Получает размер терминала в пикселях|
|**cli_term_get_cursor_pos**        |Возвращает текущее положение курсора|
|**cli_term_hex_to_rgb**            |Преобразует шестнадцатеричного цвета в RGB|
|**cli_term_rgb_to_hex**            |Преобразование цвета RGB в шестнадцатеричный формат|
|**cli_term_read_sleep**            |Режим сна|
|**cli_term_bar**                   |Прогресс бар|
|**cli_term_bkr**                   |Запуск команды в фоновом режиме|

## cli-edt

Список команд для работы с базой 1С, сборки и тестирования конфигураций.
В командах в качестве параметров используются переменные среды.
Для всех команд используются общие параметры :
* **EDT_PATH_WORKSPACE** - *<Обязателен>* - Путь к каталогу .workspace edt   
* **EDT_MAXTIMEOUT** - *<Если установлен>* - Максимальное время в секундах для выполнения операций edt
* **EDT_VMARGS** - *<Если установлен>* - Один или несколько аргументов JVM (например, -Xmx, -D и т. д.)

>**Примечание:** Полный перечень переменных смотри [здесь](image_applying.md#переменные-среды-сборки-и-тестирования)

Остальные переменные используются взависимости от вида команды (см. список). Также командам могут передаваться доп. параметры. Полное описание команды и перечень параметров см. [ИТС: Интерфейс командной строки 1C:EDT (1C:EDT CLI)](https://its.1c.ru/db/edtdoc#content:10608:hdoc:t000608__команды-интерфейса-строки)

|Имя команды                            |Переменные среды                   |Описание                                           |
|---------------------------------------|-----------------------------------|---------------------------------------------------|
|**cli_build**                      |                                   |Очищает и пересобирает все или некоторые проекты   |
|**cli_cd**                         |                                   | отображает или изменяет текущий рабочий каталог   |
|**cli_clean-up-source**            |CI_PROJECT_NAME, EDT_PATH_PROJECT  |Оптимизирует формат хранения данных проекта        |
|**cli_delete**                     |                                   |Удаляет все или некоторые проекты                  |
|**cli_export**                     |CI_PROJECT_NAME, EDT_PATH_PROJECT  |Экспортирует проект 1C:EDT в .xml-файлы конфигурации|
|**cli_format-modules**             |CI_PROJECT_NAME, EDT_PATH_PROJECT  |Форматирует все модули встроенного языка в соответствии с настройками форматирования|
|**cli_help**                       |                                   | выводит список доступных команд или кодов возврата|
|**cli_import**                     |CI_PROJECT_NAME, EDT_PATH_PROJECT       |Импортирует проект 1C:EDT в рабочую область   |
|**cli_infobase**                   |                                        |Показывает список информационных баз и информацию о выбранных базах   |
|**cli_infobase-create**            |_1C_DB_FILE_FOR_LOAD, DB_NAME, DB_VERSION|Создает информационную базу   |
|**cli_infobase-delete**            |DB_NAME                                 |Удаляет одну или несколько информационных баз   |
|**cli_infobase-import**            |DB_NAME, CI_PROJECT_NAME           |Импортирует информационную базу в проект   |
|**cli_install-platform-support**   |DB_VERSION                         |Устанавливает поддержку платформы «1С:Предприятие» указанной версии   |
|**cli_platform-versions**          |                                   |Сообщает список версий платформы «1С:Предприятие», которые поддерживаются данной средой разработки|
|**cli_project**                    |                                   |Выводит информацию по всем или по нескольким проектам   |
|**cli_script**                     |                                   |Выводит список доступных скриптов, показывает информацию о скрипте, загружает один или несколько скриптов   |
|**cli_sort-project**               |EDT_PATH_PROJECT                   |Сортирует объекты конфигурации в соответствии с настройками автоматической сортировки   |
|**cli_uninstall-platform-support** |DB_VERSION                         |удаляет поддержку платформы «1С:Предприятие» указанной версии   |
|**cli_validate**                   |LOG_PATH_DIR , EDT_PATH_PROJECT |Проверяет проект и выводит результат в .tsv-файл   |
|**cli_version**                    |                                   |выводит версию 1С:EDT или список установленных компонентов с версиями или версию выбранного компонента   |

[<- Содержание](../README.md)