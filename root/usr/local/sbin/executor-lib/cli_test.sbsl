#требуется cli.sbsl

// ТЕСТЫ

// ОБЩИЕ ТЕСТЫ

@Глобально
метод test_edt_version(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_version("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <version>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_install_platform_support(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_install_platform_support("")
    
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <install_platform_support>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )

;

// 
@Глобально
метод test_edt_uninstall_platform_support(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_uninstall_platform_support("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <uninstall_platform_support>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )

;

// ТЕСТЫ ПО РАБОТЕ С ПРОЕКТАМИ EDT

@Глобально
метод test_edt_project(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_project()
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <project>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()

;

@Глобально
метод test_edt_build(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_build()
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <build>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()

;

@Глобально
метод test_edt_clean_up_source(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_clean_up_source("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <clean_up_source>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_delete(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_delete("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <delete>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_export(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_export("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <export>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_format_modules(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_format_modules("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <format_modules>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_import(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_import("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <import>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_sort_project(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_sort_project("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <sort_project>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_edt_validate(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.edt_validate("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <validate>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

// ТЕСТЫ ПО РАБОТЕ С БД

@Глобально
метод test_infobase(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.infobase()
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <infobase>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_infobase_create(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.infobase_create()
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <infobase_create>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_infobase_delete(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.infobase_delete("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <infobase_delete>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

@Глобально
метод test_infobase_import(t: testing.T? = Неопределено)
    t = testing.T.T(t)

    пер РезультатКоманды = cli.infobase_import("")
    t.assert
        .Что(РезультатКоманды, "Выполнение команды <infobase_import>")
            .Свойство("Отказ")
                .Равно(Ложь, РезультатКоманды["ОписаниеОшибки"] как Строка )
            .Свойство("Результат")
                .Заполнено()
;

// ЗАПУСК СКРИПТА ПО-УМОЛЧАНИЮ 

метод Скрипт(ИмяТеста: Строка = "")
   знч СписокТестов = testing.ПрочитатьСписокТестов(Скрипт.ПутьТекущегоСкрипта)
   СписокТестов.Запустить(ИмяТеста)    
;